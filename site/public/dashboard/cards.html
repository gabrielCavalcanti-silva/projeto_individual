<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/icon/icon.png" type="image/x-icon">
    <meta charset="UTF-8">

    <title>História</title>

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="dashboards.css">

    <script src="../js/funcoes.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
</head>

<body onload="validarSessao(), atualizacaoPeriodica()">
    <div class="conteudo">
        <input type="checkbox" id="chec">
        <label for="chec"><img src="../assets/imgs/logo_header.png" id="risco"></label>
            <nav class="nav">
                <ul>
                    <li>
                        <a href="./cards.html" id="a">
                            <h3>História do jogo</h3>
                        </a>
                    </li>

                    <li>
                        <a href="./dashboard.html" id="a">
                            <h3>Facções</h3>
                        </a>
                    </li>

                    <li class="btn-logout" onclick="limparSessao()">
                        <h3>Sair</h3>
                    </li>
                </ul>
            </nav>

            <div class="banner">
                <div class="container">
                </div>
            </div>
        
        <div class="sobre">
            <div class="container">
                <br><br>
                <h1>História do jogo</h1>
                <p>
                    A franquia The Last of Us tem uma história incrível, imersiva e emocionante, sendo uma das mais fantásticas dos games.<br><br>

                    Cidades abandonadas retomadas pela natureza. Uma população dizimada por uma praga moderna. Os sobreviventes matam uns aos outros por comida, armas e qualquer outra coisa em que puderem botar as mãos. Na história de The Last of Us, Joel, um sobrevivente brutal, e Ellie, uma adolescente corajosa e madura apesar da pouca idade, devem unir forças para saírem vivos da sua jornada pelos Estados Unidos.<br>
                    The Last of Us Part II acontece cinco anos depois da jornada perigosa pelos Estados Unidos pós-pandêmicos. Ellie e Joel se estabelecem em Jackson, Wyoming. A vida em uma próspera comunidade de sobreviventes lhes trouxe paz e estabilidade, apesar da ameaça constante dos infectados e de outros sobreviventes mais desesperados.<br>
                    Quando um evento violento interrompe essa paz, Ellie embarca em uma jornada implacável para fazer justiça e encontrar uma solução. Enquanto vai atrás de cada um dos responsáveis, como Abby, ela se confronta com as repercussões físicas e emocionais devastadoras de suas ações.
                </p>
                <br><br>

                <h1>Personagens</h1>
                <p>
                    <h3>Joel</h3>

                    Originalmente do Texas, Joel foi pai solteiro entre os seus 25 e 30 anos quando ocorreu o surto inicial do Cordyceps. Fugindo com o seu irmão Tommy e com sua filha de doze anos, Sarah, eles se envolveram em um tiroteio com um soldado, e Sarah foi mortalmente ferida e morreu em seus braços, deixando-o traumatizado. Nos 20 anos seguintes, Joel fez o que tinha que fazer para sobreviver. No tempo passado em um mundo pós-apocalíptico brutal, ainda amargurado com a morte de sua filha, Joel se tornou um sobrevivente endurecido, física e mentalmente. Ele tem um estilo de luta brutal e é capaz de enfrentar e derrotar homens muito mais jovens em combate corpo a corpo. 
                    <img src="../assets/imgs/personagens/joel.jpg">
                    <br><br>

                    <h3>Tess</h3>

                    Uma endurecida sobrevivente, ela era a "parceira" de longo prazo de Joel. A dupla ganhava a vida como contrabandistas; eles trocaram com sobreviventes fora da cidade. Ela tinha uma filosofia de "cachorro-come-cachorro", semelhante a Joel e Ellie. 
                    <img src="../assets/imgs/personagens/tess.jpg">
                    <br><br>

                    <h3>Ellie</h3>

                    Ellie nasceu em algum momento de 2018-2019, com pai e mãe falecidos. Foi estudante de uma Escola Militar de Boston. Cresceu praticamente em uma zona de quarentena, o que é um dos motivos pelo qual não sabe nada.<br>
                    Além disso Ellie é a única pessoa imune ao fungo cordyceps.
                    <img src="../assets/imgs/personagens/ellie.jpg">
                    <br><br>
                    
                    <h3>Tommy</h3>

                    Ele é o irmão mais novo de Joel, tio paterno de Sarah, marido de Maria e ex-membro de Vagalumes.
                    <img src="../assets/imgs/personagens/tommy.jpg">
                </p>
                <br><br>

                <h1>Apocalipse</h1>
                <p>
                    <h3>Infecção</h3>
                    
                    A infecção começa por conta do cordyceps, um fungo da classe dos ascomicetos, que cresce principalmente em insetos e artrópodes. É uma variação deste tipo fungo que vai infectar os humanos no game, gerando mutações bizarras que irão devastar quase toda a população da Terra. <br>
                    A base de maior foco do fungo no mundo é localizada nas florestas tropicais úmidas no continente asiático, onde existem mais de 400 espécies de cordyceps conhecidas. Após atingir o sistema nervoso central, a criatura infectada busca lugares que tenham uma boa ventilação e umidade, para fazer com que o fungo se desenvolva com mais facilidade.<br><br>

                    <h3>Infectados</h3>

                    <img src="../assets/imgs/personagens/inimigos.jpg">

                    Infectados são humanos que foram infectados e posteriormente mutados em horríveis novas formas pela Infecção do cérebro de Cordyceps. As criaturas resultantes são altamente agressivas e atacam qualquer humano não infectado à vista. <br><br>

                    <p><b>Estágios de infecção</b></p>

                    <p><b>Corredores</b></p>

                    Os corredores são o primeiro e mais fraco estágio dos infectados que recentemente entraram em sua transformação. As pessoas que foram infectadas entrarão nesse estágio dentro de 1-2 dias, com aumento da irritabilidade e hostidade em relação aos outros, sendo um sintoma chave. <br><br>

                    <p><b>Perseguidores</b></p>

                    Os perseguidores são o segundo estágio da infecção. Eles têm a visão e a velocidade dos corredores, com a ferocidade dos Estaladores. Os traços físicos mais notáveis que definem os Perseguidores são os distintos ruídos que eles fazem, o início dos crescimentos dos fundos na cabeça e no rosto com apenas um olho sobrando, o desenvolvimento de pseudo-ecolocalização e sua discrição ao avistar uma vítima à distância. <br><br>

                    <p><b>Estaladores</b></p>

                    Os estaladores são o terceiro estágio dos infectados e demoram aproximadamente um ano para atingir esse estágio de infecção. Eles tiveram exposição prolongada ao fungo e agora possuem uma força que supera significativamente a média humana. Isso os torna mais mortais, mas ao preço de serem completamente cegos devido à infecção por fungos que toma conta de seu rosto. No entanto, os Estaladores são capazes de manobrar por áreas utilizando a ecolocalização, que produz ruídos visível de clique/guinchar para localizar fontes de som, daí o nome. Como os corredores, os Estaladores ás vezes podem ser encontrados em um estado passivo. <br><br>

                    <p><b>Bloaters</b></p>

                    Os bloaters são o quarto, mais raro e mais perigoso estágio de infecção, pois levam mais tempo para se desenvolver, levando anos para chegar a esse estágio. Eles são cobertos por fungos espessos que atuam efetivamente como armaduras. Por causa dessa cobertura protetora, eles podem suportar vários ataques de armas como a espingarda e o rifle de caça e até machados e facões, tornando-os extremamente difíceis de eliminar.
                </p><br><br>
            </div>
        </div>


</body>

<script>

    function atualizacaoPeriodica() {
        obterdados(1);
        obterdados(2);
        obterdados(3);
        obterdados(4);

        function sendData() {
            var http = new XMLHttpRequest();
            http.open('POST', 'http://localhost:3000/api/sendData', false);
            http.send(null);
        }

        setInterval(() => {
            sendData();
        }, 2000);
        setTimeout(atualizacaoPeriodica, 5000);
    }

    function obterdados(idAquario) {
        fetch(`/medidas/tempo-real/${idAquario}`)
            .then(resposta => {

                if (resposta.ok) {
                    resposta.json().then(resposta => {

                        console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);

                        var dados = {
                            temperatura: resposta[0].temperatura,
                        }

                        alertar(resposta[0].temperatura, idAquario);
                    });
                } else {

                    console.error('Nenhum dado encontrado ou erro na API');
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados do aquario p/ gráfico: ${error.message}`);
            });

    }

    function alertar(temperatura, idAquario) {
        var limites = {
            muito_quente: 23,
            quente: 22,
            ideal: 20,
            frio: 10,
            muito_frio: 5
        };

        var classe_temperatura = 'cor-alerta';

        if (temperatura >= limites.muito_quente) {
            classe_temperatura = 'cor-alerta perigo-quente';
            console.log("caiu no 1")
        }
        else if (temperatura < limites.muito_quente && temperatura >= limites.quente) {
            classe_temperatura = 'cor-alerta alerta-quente';
            console.log("caiu no 2")
        }
        else if (temperatura < limites.quente && temperatura > limites.frio) {
            classe_temperatura = 'cor-alerta ideal';
            console.log("caiu no 3")
        }
        else if (temperatura <= limites.frio && temperatura > limites.muito_frio) {
            classe_temperatura = 'cor-alerta alerta-frio';
            console.log("caiu no 4")
        }
        else if (temperatura < limites.min_temperatura) {
            classe_temperatura = 'cor-alerta perigo-frio';
            console.log("caiu no 5")
        }

        var card;

        if (idAquario == 1) {
            temp_aquario_1.innerHTML = temperatura + "°C";
            card = card_1
        } else if (idAquario == 2) {
            temp_aquario_2.innerHTML = temperatura + "°C";
            card = card_2
        } else if (idAquario == 3) {
            temp_aquario_3.innerHTML = temperatura + "°C";
            card = card_3
        } else if (idAquario == 4) {
            temp_aquario_4.innerHTML = temperatura + "°C";
            card = card_4
        }

        // alterando
        card.className = classe_temperatura;

    }

</script>

</html>